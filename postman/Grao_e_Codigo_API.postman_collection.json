{
  "info": {
    "name": "Gr√£o & C√≥digo API",
    "description": "Collection para a prova pr√°tica de desenvolvedores Junior.\n\n‚òï API de gest√£o de uma cafeteria gourmet.\n\n**Se√ß√µes:**\n- üéØ Exerc√≠cios: Preencha as lacunas nos query params\n- üîç Explora√ß√£o: Rotas seguras para testes\n- üö© CTF: Rotas vulner√°veis a SQL Injection\n- üêõ Buggy: Rotas com bugs para corre√ß√£o",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3000"
    }
  ],
  "item": [
    {
      "name": "üè† Health Check",
      "item": [
        {
          "name": "Home",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/"
          }
        },
        {
          "name": "API Docs",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/api/docs"
          }
        }
      ]
    },
    {
      "name": "üéØ Exerc√≠cios - Query Params",
      "description": "üìù EXERC√çCIOS PR√ÅTICOS\n\nComplete os valores dos query parameters para fazer as requisi√ß√µes funcionarem!\n\n‚ö†Ô∏è Substitua os valores {{PREENCHA_...}} pelos valores corretos.",
      "item": [
        {
          "name": "Ex 2.1 - Filtrar Produtos por Categoria",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/products?category={{PREENCHA_ID_CATEGORIA}}",
              "host": ["{{base_url}}"],
              "path": ["api", "products"],
              "query": [
                { "key": "category", "value": "{{PREENCHA_ID_CATEGORIA}}", "description": "üí° Dica: Use o ID da categoria (ex: 1, 2, 3...)" }
              ]
            },
            "description": "üéØ Objetivo: Buscar produtos de uma categoria espec√≠fica.\n\nüìù Instru√ß√µes:\n1. Substitua {{PREENCHA_ID_CATEGORIA}} por um n√∫mero (ID da categoria)\n2. Execute a requisi√ß√£o e veja os produtos filtrados\n\nüí° Dica: Use GET /api/categories para ver as categorias dispon√≠veis"
          }
        },
        {
          "name": "Ex 2.2 - Filtrar Produtos por Faixa de Pre√ßo",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/products?minPrice={{PREENCHA_PRECO_MIN}}&maxPrice={{PREENCHA_PRECO_MAX}}",
              "host": ["{{base_url}}"],
              "path": ["api", "products"],
              "query": [
                { "key": "minPrice", "value": "{{PREENCHA_PRECO_MIN}}", "description": "üí° Pre√ßo m√≠nimo (ex: 10)" },
                { "key": "maxPrice", "value": "{{PREENCHA_PRECO_MAX}}", "description": "üí° Pre√ßo m√°ximo (ex: 50)" }
              ]
            },
            "description": "üéØ Objetivo: Buscar produtos dentro de uma faixa de pre√ßo.\n\nüìù Instru√ß√µes:\n1. Substitua {{PREENCHA_PRECO_MIN}} pelo pre√ßo m√≠nimo desejado\n2. Substitua {{PREENCHA_PRECO_MAX}} pelo pre√ßo m√°ximo desejado\n3. Execute e veja os produtos na faixa\n\nüí° Dica: Tente buscar produtos entre R$10 e R$50"
          }
        },
        {
          "name": "Ex 2.3 - Filtrar Produtos Ativos",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/products?active={{PREENCHA_BOOLEANO}}",
              "host": ["{{base_url}}"],
              "path": ["api", "products"],
              "query": [
                { "key": "active", "value": "{{PREENCHA_BOOLEANO}}", "description": "üí° Use: true ou false" }
              ]
            },
            "description": "üéØ Objetivo: Filtrar produtos por status ativo/inativo.\n\nüìù Instru√ß√µes:\n1. Substitua {{PREENCHA_BOOLEANO}} por 'true' ou 'false'\n2. Compare os resultados de active=true vs active=false\n\nüí° Pergunta: Quantos produtos inativos existem?"
          }
        },
        {
          "name": "Ex 2.4 - Filtrar Usu√°rios por Cargo",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/users?role={{PREENCHA_CARGO}}",
              "host": ["{{base_url}}"],
              "path": ["api", "users"],
              "query": [
                { "key": "role", "value": "{{PREENCHA_CARGO}}", "description": "üí° Cargos: admin, gerente, barista, atendente, cliente" }
              ]
            },
            "description": "üéØ Objetivo: Buscar usu√°rios por cargo.\n\nüìù Instru√ß√µes:\n1. Substitua {{PREENCHA_CARGO}} pelo cargo desejado\n2. Teste com diferentes cargos\n\nüí° Cargos dispon√≠veis: admin, gerente, barista, atendente, cliente"
          }
        },
        {
          "name": "Ex 2.5 - Filtrar Pedidos por Status",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/orders?status={{PREENCHA_STATUS}}",
              "host": ["{{base_url}}"],
              "path": ["api", "orders"],
              "query": [
                { "key": "status", "value": "{{PREENCHA_STATUS}}", "description": "üí° Status: pending, preparing, ready, delivered, cancelled" }
              ]
            },
            "description": "üéØ Objetivo: Filtrar pedidos por status.\n\nüìù Instru√ß√µes:\n1. Substitua {{PREENCHA_STATUS}} pelo status desejado\n2. Teste todos os status diferentes\n\nüí° Status poss√≠veis: pending, preparing, ready, delivered, cancelled"
          }
        },
        {
          "name": "Ex 2.6 - DESAFIO: Combinar M√∫ltiplos Filtros",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/products?{{PREENCHA_PARAM1}}={{PREENCHA_VALOR1}}&{{PREENCHA_PARAM2}}={{PREENCHA_VALOR2}}",
              "host": ["{{base_url}}"],
              "path": ["api", "products"],
              "query": [
                { "key": "{{PREENCHA_PARAM1}}", "value": "{{PREENCHA_VALOR1}}", "description": "üí° Escolha: category, minPrice, maxPrice, ou active" },
                { "key": "{{PREENCHA_PARAM2}}", "value": "{{PREENCHA_VALOR2}}", "description": "üí° Combine com outro filtro!" }
              ]
            },
            "description": "üéØ DESAFIO: Combinar dois ou mais filtros!\n\nüìù Objetivo: Buscar produtos da categoria 2 que custam no m√°ximo R$20\n\nüìù Instru√ß√µes:\n1. Preencha os nomes dos par√¢metros (keys)\n2. Preencha os valores\n3. Execute e valide o resultado\n\nüí° Dica: Use 'category' e 'maxPrice'"
          }
        },
        {
          "name": "‚úÖ GABARITO - 2.1 Categoria",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/products?category=1",
              "host": ["{{base_url}}"],
              "path": ["api", "products"],
              "query": [
                { "key": "category", "value": "1" }
              ]
            },
            "description": "‚úÖ Resposta correta do Exerc√≠cio 2.1"
          }
        },
        {
          "name": "‚úÖ GABARITO - 2.2 Faixa de Pre√ßo",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/products?minPrice=10&maxPrice=50",
              "host": ["{{base_url}}"],
              "path": ["api", "products"],
              "query": [
                { "key": "minPrice", "value": "10" },
                { "key": "maxPrice", "value": "50" }
              ]
            },
            "description": "‚úÖ Resposta correta do Exerc√≠cio 2.2"
          }
        },
        {
          "name": "‚úÖ GABARITO - 2.3 Ativos",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/products?active=true",
              "host": ["{{base_url}}"],
              "path": ["api", "products"],
              "query": [
                { "key": "active", "value": "true" }
              ]
            },
            "description": "‚úÖ Resposta correta do Exerc√≠cio 2.3"
          }
        },
        {
          "name": "‚úÖ GABARITO - 2.4 Cargo",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/users?role=barista",
              "host": ["{{base_url}}"],
              "path": ["api", "users"],
              "query": [
                { "key": "role", "value": "barista" }
              ]
            },
            "description": "‚úÖ Resposta correta do Exerc√≠cio 2.4"
          }
        },
        {
          "name": "‚úÖ GABARITO - 2.5 Status",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/orders?status=delivered",
              "host": ["{{base_url}}"],
              "path": ["api", "orders"],
              "query": [
                { "key": "status", "value": "delivered" }
              ]
            },
            "description": "‚úÖ Resposta correta do Exerc√≠cio 2.5"
          }
        },
        {
          "name": "‚úÖ GABARITO - 2.6 Desafio",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/products?category=2&maxPrice=20",
              "host": ["{{base_url}}"],
              "path": ["api", "products"],
              "query": [
                { "key": "category", "value": "2" },
                { "key": "maxPrice", "value": "20" }
              ]
            },
            "description": "‚úÖ Resposta correta do Exerc√≠cio 2.6 - Desafio"
          }
        }
      ]
    },
    {
      "name": "üîç Explora√ß√£o - Produtos",
      "item": [
        {
          "name": "Listar Todos Produtos",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/api/products"
          }
        },
        {
          "name": "Filtrar por Categoria",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/products?category=1",
              "host": ["{{base_url}}"],
              "path": ["api", "products"],
              "query": [
                { "key": "category", "value": "1" }
              ]
            }
          }
        },
        {
          "name": "Filtrar por Pre√ßo",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/products?minPrice=10&maxPrice=50",
              "host": ["{{base_url}}"],
              "path": ["api", "products"],
              "query": [
                { "key": "minPrice", "value": "10" },
                { "key": "maxPrice", "value": "50" }
              ]
            }
          }
        },
        {
          "name": "Buscar Produto por ID",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/api/products/1"
          }
        },
        {
          "name": "Criar Produto",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/api/products",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Caf√© Gelado Premium\",\n    \"description\": \"Caf√© gelado com leite condensado\",\n    \"price\": 16.00,\n    \"stock\": 30,\n    \"category_id\": 2\n}"
            }
          }
        },
        {
          "name": "Atualizar Produto",
          "request": {
            "method": "PUT",
            "url": "{{base_url}}/api/products/1",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"price\": 8.00,\n    \"stock\": 150\n}"
            }
          }
        },
        {
          "name": "Deletar Produto (Soft Delete)",
          "request": {
            "method": "DELETE",
            "url": "{{base_url}}/api/products/1"
          }
        }
      ]
    },
    {
      "name": "üîç Explora√ß√£o - Categorias",
      "item": [
        {
          "name": "Listar Categorias",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/api/categories"
          }
        },
        {
          "name": "Categoria com Produtos",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/api/categories/1"
          }
        },
        {
          "name": "Criar Categoria",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/api/categories",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Especiais\",\n    \"description\": \"Produtos especiais da casa\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "üîç Explora√ß√£o - Usu√°rios",
      "item": [
        {
          "name": "Listar Usu√°rios",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/api/users"
          }
        },
        {
          "name": "Filtrar por Cargo",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/users?role=barista",
              "host": ["{{base_url}}"],
              "path": ["api", "users"],
              "query": [
                { "key": "role", "value": "barista" }
              ]
            }
          }
        },
        {
          "name": "Buscar Usu√°rio por ID",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/api/users/3"
          }
        }
      ]
    },
    {
      "name": "üîç Explora√ß√£o - Pedidos",
      "item": [
        {
          "name": "Listar Pedidos",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/api/orders"
          }
        },
        {
          "name": "Filtrar por Status",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/orders?status=delivered",
              "host": ["{{base_url}}"],
              "path": ["api", "orders"],
              "query": [
                { "key": "status", "value": "delivered" }
              ]
            }
          }
        },
        {
          "name": "Detalhes do Pedido",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/api/orders/1"
          }
        },
        {
          "name": "Criar Pedido",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/api/orders",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"user_id\": 5,\n    \"items\": [\n        { \"product_id\": 1, \"quantity\": 2 },\n        { \"product_id\": 2, \"quantity\": 1 },\n        { \"product_id\": 13, \"quantity\": 1 }\n    ],\n    \"notes\": \"Sem a√ß√∫car no caf√©\"\n}"
            }
          }
        },
        {
          "name": "Atualizar Status",
          "request": {
            "method": "PATCH",
            "url": "{{base_url}}/api/orders/1/status",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"status\": \"preparing\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "üîç Explora√ß√£o - Autentica√ß√£o",
      "item": [
        {
          "name": "Login (Seguro)",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/api/auth/login",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"barista_joao\",\n    \"password\": \"cafezinho\"\n}"
            }
          }
        },
        {
          "name": "Login Admin",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/api/auth/login",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"admin\",\n    \"password\": \"admin123\"\n}"
            }
          }
        },
        {
          "name": "Registrar Usu√°rio",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/api/auth/register",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"novo_barista\",\n    \"password\": \"senha123456\",\n    \"email\": \"novo@cafeteria.com\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "üö© CTF - SQL Injection",
      "description": "‚ö†Ô∏è ROTAS VULNER√ÅVEIS - Use para aprender sobre SQL Injection",
      "item": [
        {
          "name": "Ver Desafios CTF",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/api/vulnerable/flags"
          }
        },
        {
          "name": "Busca Normal",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/vulnerable/search?q=caf√©",
              "host": ["{{base_url}}"],
              "path": ["api", "vulnerable", "search"],
              "query": [
                { "key": "q", "value": "caf√©" }
              ]
            }
          }
        },
        {
          "name": "Busca - Teste de Vulnerabilidade",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/vulnerable/search?q='",
              "host": ["{{base_url}}"],
              "path": ["api", "vulnerable", "search"],
              "query": [
                { "key": "q", "value": "'" }
              ]
            }
          }
        },
        {
          "name": "Busca - OR Injection",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/vulnerable/search?q=' OR '1'='1",
              "host": ["{{base_url}}"],
              "path": ["api", "vulnerable", "search"],
              "query": [
                { "key": "q", "value": "' OR '1'='1" }
              ]
            }
          }
        },
        {
          "name": "Login Vulner√°vel - Normal",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/api/vulnerable/login",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"admin\",\n    \"password\": \"senha_errada\"\n}"
            }
          }
        },
        {
          "name": "Login Vulner√°vel - Bypass",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/api/vulnerable/login",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"admin' --\",\n    \"password\": \"qualquer\"\n}"
            }
          }
        },
        {
          "name": "Produto Vulner√°vel - Normal",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/api/vulnerable/product/1"
          }
        },
        {
          "name": "Usu√°rios Vulner√°vel - Ver Todos",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/vulnerable/users?role=' OR '1'='1",
              "host": ["{{base_url}}"],
              "path": ["api", "vulnerable", "users"],
              "query": [
                { "key": "role", "value": "' OR '1'='1" }
              ]
            }
          }
        },
        {
          "name": "Order By Vulner√°vel",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/vulnerable/order?sort=price",
              "host": ["{{base_url}}"],
              "path": ["api", "vulnerable", "order"],
              "query": [
                { "key": "sort", "value": "price" }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "üêõ Buggy - Corre√ß√£o de Bugs",
      "description": "Rotas com bugs propositais para corre√ß√£o",
      "item": [
        {
          "name": "Lista de Bugs",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/api/buggy"
          }
        },
        {
          "name": "Bug #1 - Compara√ß√£o de Tipos",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/api/buggy/products"
          }
        },
        {
          "name": "Bug #2 - C√°lculo Total",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/api/buggy/total/1"
          }
        },
        {
          "name": "Bug #3 - Async/Await (Criar)",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/api/buggy/order",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"user_id\": 5,\n    \"items\": [\n        { \"product_id\": 1, \"quantity\": 2 },\n        { \"product_id\": 2, \"quantity\": 1 }\n    ]\n}"
            }
          }
        },
        {
          "name": "Bug #4 - Off-by-One Ranking",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/api/buggy/ranking"
          }
        },
        {
          "name": "Bug #5 - Valida√ß√£o (Desconto Negativo)",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/api/buggy/discount",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"product_id\": 1,\n    \"discount_percent\": -50\n}"
            }
          }
        },
        {
          "name": "Bug #5 - Valida√ß√£o (Desconto 150%)",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/api/buggy/discount",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"product_id\": 1,\n    \"discount_percent\": 150\n}"
            }
          }
        },
        {
          "name": "Bug #6 - Escopo de Vari√°vel",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/api/buggy/summary"
          }
        }
      ]
    }
  ]
}
